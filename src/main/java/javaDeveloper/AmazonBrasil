package com.dio.atividade;

import com.bringto.selenium.TelaHelper;
import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;

import java.util.List;

public class AmazonBrasil {
    public static void main(String[] args) {

        try {
            TelaHelper.navegar("https://www.amazon.com.br/");
            TelaHelper.maximizar();

            TelaHelper.preencherCampo(By.xpath("//*[@id=\"twotabsearchtextbox\"]"), "headset", 15);
            TelaHelper.clicar(By.xpath("//*[@id=\"nav-search-submit-button\"]"), 15);
            
            List<WebElement> produtos = TelaHelper.encontrarElementos(
                    By.xpath("//div[@data-component-type='s-search-result']")
            );

            System.out.println("-----PRODUTOS-----");
            for (int i = 0; i < Math.min(20, produtos.size()); i++) {
                String produto = produtos.get(i).getText();
                System.out.println((i + 1) + " - " + produto);
            }

        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            TelaHelper.finalizar();
        }
    }
}
